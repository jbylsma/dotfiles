"hg6830

loadplugins '\.(js|penta)$'
group user

""""""""""""""
" Preferences
""""""""""""""

" Disable smooth scroll
set! general.smoothScroll=false

" Use blank page for home
set! browser.startup.homepage=about:blank

" Use Google for search
set! browser.search.countryCode=US
set! browser.search.defaultenginename=Google
set! browser.search.defaultenginename.US=Google
set! browser.search.isUS=true
set! browser.search.region=US

" Don't close the last window
set! browser.tabs.closeWindowWithLastTab=false

" Disable tab group (Panorama) animation
set! browser.panorama.animate_zoom=false

" Enable "Do Not Track" header
set! privacy.donottrackheader.enabled=true

" Don't use <C-v> for individual pass throughs.
" Good for Linux. Still having problems in Gmail compose mode.
noremap <C-c> <C-v><C-c>
noremap <C-v> <C-v><C-v>

" Disable certain keys
javascript <<EOF
  var keys = [
    '<M-S-c>', // focusChatBar
    '<M-[>', // goBackKb
    '<M-Left>', // goBackKb
    '<BS>', // goBackKb
    '<M-]>', // goFowardKb
    '<M-Right>', // goFowardKb
    '<S-BS>', // goFowardKb
    '<M-f>', // Find
    '<M-g>', // Find Again
    '<F3>', // Find Again
    '<M-k>', // Key Search
  ];

  keys.forEach(function(key) {
    dactyl.execute('nmap -builtin ' + key + ' <Nop>');
  });
EOF

" Force the status line to display when toggling fullscreen.
au Fullscreen .* :set guioptions+=s

" Set up fonts
highlight FontFixed font-family: "Ubuntu Mono" !important; font-size: 13px;
highlight -append FontCode font-family: "Ubuntu Mono" !important;
highlight -append Hint font-family: "Ubuntu Mono"; font-size: 11px !important;

"""""""""""
" Commands
"""""""""""

" Flush browser DNS
command flushdns set! network.dnsCacheExpiration=0 | set! network.dnsCacheExpiration&

" Enable Reader mode and create command
set! reader.parse-on-load.enabled=true
command reader execute "open about:reader?url=" + content.location.href

""""""""""
" Add-ons
""""""""""

" Force uBlock to use legacy interface
set! extensions.ublock0.forceLegacyToolbarButton=true

" Load local pentadactyl configuration
source! $HOME/.pentadactylrc.local
